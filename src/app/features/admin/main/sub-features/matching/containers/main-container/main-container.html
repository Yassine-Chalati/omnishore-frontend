<div class="position-fixed bottom-0 start-0 p-3" style="z-index:2000; min-width:320px; max-width:400px;">
  <ng-container *ngFor="let toast of toasts">
    <app-toast-component
      [color]="toast.color"
      [message]="toast.message"
      (animationDone)="onToastDone(toast.id)"
      [duration]="toast.duration ?? 2500"
    ></app-toast-component>
  </ng-container>
</div>
<ng-container *ngIf="loading">
  <app-loader-component [loaderMessage]="'Chargement de matching...'"></app-loader-component>
</ng-container>
<div class="main-container d-flex flex-column flex-grow-1 mt-5" @fadeIn>
  <div class="table-responsive px-2 px-md-4 pt-3 pt-md-4 pb-2 mx-3 mx-md-5">
    <div class="d-flex flex-column flex-sm-row justify-content-sm-end align-items-stretch align-items-sm-center gap-2 mb-2 mx-3 mx-md-5" style="min-height:48px;">
      <app-primary-button-component label="Afficher fiche de poste" (click)="openJobDescriptionPopUpModal()"></app-primary-button-component>
      <ng-container *ngIf="showStructuredCvFormModal && cvStructured">
        <div class="modal-backdrop fade show" style="z-index:1040;"></div>
        <div class="position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center" style="z-index:1050;">
          <app-structured-cv-form-component [cvStructured]="cvStructured" (closed)="closeStructuredCvFormModal()"></app-structured-cv-form-component>
        </div>
      </ng-container>
      <ng-container *ngIf="showFilePopUpModal">
        <div class="modal-backdrop fade show" style="z-index:1040;"></div>
        <div class="position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center" style="z-index:1050;">
          <ng-container *ngIf="filePopUpLoading">
            <app-loader-component [loaderMessage]="'Chargement du fichier CV...'"></app-loader-component>
          </ng-container>
          <ng-container *ngIf="!filePopUpLoading && filePopUpUrl">
            <app-file-pop-up-component
              [fileUrl]="filePopUpUrl"
              [fileType]="filePopUpType"
              [fileName]="filePopUpName"
              [fileBytes]="filePopUpBytes"
              (closed)="closeFilePopUpModal()"
            ></app-file-pop-up-component>
          </ng-container>
        </div>
      </ng-container>
      <ng-container *ngIf="showShowPromptModal">
        <div class="modal-backdrop fade show" style="z-index:1040;"></div>
        <div class="position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center" style="z-index:1050;">
          <app-show-prompt-component [promptText]="showPromptContent" (closed)="closeShowPromptModal()"></app-show-prompt-component>
        </div>
      </ng-container>
    </div>
    <app-matching-table-component (clickedStructuredCvForm)="openStructuredCvFormModal($event)" (clickedFilePopUp)="openFilePopUpModal($event)" [matchingList]="matchingList"></app-matching-table-component>
  </div>
</div>